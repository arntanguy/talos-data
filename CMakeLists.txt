CMAKE_MINIMUM_REQUIRED(VERSION 2.8.3)

SET(PROJECT_ORG pyrene-dev)
SET(PROJECT_NAME talos_data)
SET(PROJECT_DESCRIPTION "Talos urdf model, srdf model and other data")
SET(PROJECT_URL "https://gepgitlab.laas.fr/${PROJECT_ORG}/${PROJECT_NAME}")

SET(PROJECT_USE_CMAKE_EXPORT TRUE)
SET(CXX_DISABLE_WERROR True)
SET(CMAKE_CXX_STANDARD 11)

#include(cmake/ros.cmake)
INCLUDE(cmake/base.cmake)

# Specify the project.
COMPUTE_PROJECT_ARGS(PROJECT_ARGS LANGUAGES CXX)
PROJECT(${PROJECT_NAME} ${PROJECT_ARGS})

find_package(catkin REQUIRED COMPONENTS
  roscpp)

catkin_package(
  #  INCLUDE_DIRS include
  #  LIBRARIES talos_description
  #  CATKIN_DEPENDS roscpp
  #  DEPENDS system_lib
  )

# Find xml_reflection
ADD_PROJECT_DEPENDENCY(urdfdom REQUIRED)
ADD_PROJECT_DEPENDENCY(gazebo REQUIRED)
ADD_PROJECT_DEPENDENCY(roscpp)

# Needed due to the CMakeTarget from gazebo.
INCLUDE_DIRECTORIES(${GAZEBO_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(${catkin_INCLUDE_DIRS})


set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++0x")


SET(LIBRARY_NAME ${PROJECT_NAME})

ADD_LIBRARY(${PROJECT_NAME}
  SHARED
  src/SpringPlugin.cc
  )

TARGET_INCLUDE_DIRECTORIES(${PROJECT_NAME} PRIVATE ${GAZEBO_INCLUDE_DIRS})
TARGET_INCLUDE_DIRECTORIES(${PROJECT_NAME} PRIVATE ${catkin_INCLUDE_DIRS})

INSTALL(TARGETS
  ${PROJECT_NAME}
  EXPORT ${TARGETS_EXPORT_NAME}
  DESTINATION ${CATKIN_PACKAGE_BIN_DESTINATION}
  LIBRARY DESTINATION ${CATKIN_PACKAGE_LIB_DESTINATION}
  )

FOREACH(dir config gazebo meshes robots urdf scripts srdf launch)
  INSTALL(DIRECTORY ${dir}/
    DESTINATION ${CATKIN_PACKAGE_SHARE_DESTINATION}/${dir})
ENDFOREACH(dir)
